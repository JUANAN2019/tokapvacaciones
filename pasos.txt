symfonytoken repositorio jorge
Instalo
symfony new symfony-token.api-inicio --version=5.4
symfony composer require api
composer require symfony/orm-pack   sin docker
composer require symfony/maker-bundle
composer update
composer require form validator twig-bundle security-csrf annotations
composer require symfony/security-bundle
composer require symfonycasts/verify-email-bundle
composer require symfony/mailer
composer require --dev symfony/profiler-pack
composer require lexik/jwt-authentication-bundle


DATABASE_URL="mysql://root:@127.0.0.1:3306/google-token-api-inicio?serverVersion=8&charset=utf8mb4"
Crear usuario: php bin/console make:user
 php bin/console make:registration-form
 php bin/console make:auth 
 php bin/console lexik:jwt:generate-keypair
 php bin/console doctrine:database:create
 php bin/console doctrine:schema:update --force
 .env añado MAILER_DSN="gmail+smtp://juananprog@gmail.com:tuoczynqywiyftvl@smpt.gmail.com:25"
 Control de acceso por rol admin en el security.yaml - { path: ^/admin, roles: ROLE_ADMIN }
 Creamos el controlador de admin: php bin/console make:controller
 php bin/console make:crud   user y su controlador
 composer require symfony/google-mailer para poder usar el mailer de google(esto lo instalo porque me lo indica como error)
 me da este error porque no he creado home controller
 TODO: provide a valid redirect inside C:\Users\JUNAN\Desktop\Proyecto 
 Google\Pruebas esquleto proyecto\symfony-token-api-inicio\src\Security\AppCustomAuthenticator.php
Creamos el controlador de home: php bin/console make:controller
En el Registration controller, en la linea 56, cambiar la ruta a home o a la ruta que quieres ir una vez registrado (Sería bueno llevarle al login)
En el src/Security/AppCustomAutheticator.php en la linea 50 especificar a dónde quieres llegar una vez realizado el login (app_home)
Creamos el controlador de home: php bin/console make:controller
Configuración del config/packages/security.ymal para el funcionamiento del jwt. Info en: https://symfony.com/bundles/LexikJWTAuthenticationBundle/current/index.html#symfony-5-3-and-higher
controlador para comprobar el token: ChecktokenController.php
Hago peticion por postman y funciona habiendo cambiado las configuraciones como corresponden
A partir de aqui video Token_I min 13
éxplicacion codigo react fethc a partir de la 1 hora de video, meter datos en localstorage.
si da fallos hay que instalar open ssl  problema solo en windows
aqui ya estoy en el video token2  solo es poner body cabeceras 
instalo composer require symfony/google-mailer para usar smpt de google con esto ya envia correos,
solo quedaria en dev poner lo que hace falta para que siempre lo envie al mismo correo repasar mas opciones de envio email
when@dev:
    framework:
        mailer:
            envelope:
                recipients: ['garciagalindo@telefonica.net']
para que lo envie al mismo email, pero si lo hace al mismo al ir al loggin desde el link 
si no me he registrado con @telefonica y es con pepito me dice que no es el mismo 
correo al que se ha enviado que el que se intenta registrar pero para ver las plantillas de email 
me sirve que es lo que voy a trabajar ahora
composer require symfony/twig-bundle
para enviar imagen y hacerlo como en la documentacion recordar que hay que poner los pares clave: valor en una linea
diferente si no dara error tal como esta en la documentacion

Instalo inky(especie de bootstrap para contenido email )
composer require twig/extra-bundle twig/inky-extra
para poder instalarlo  en php.ini habilito ;extension=xsl
Ya he conseguido que me funcione exta/inky   he tocado los archivos twig.yaml, confirmation_
email.html.twig y services.yaml este ultimo creo que no tiene cambio alguno pero tenerlo en cuenta 
tambien he reiniciado servidor y entorno de desarrollo y he limpiado la cache aunque en dev no deberia
importar
Ahora Css-inliner
composer require twig/extra-bundle twig/cssinliner-extra
Ya esta funcionando con archivo css externo en twig.yaml uso inky y 
documentacion inky https://get.foundation/emails/docs/inky.html ver ejemplo de como funciona, no
entiendo muy bien lo de tablas dentro de tablas aunque veo el ejemplo


creo entidades y relaciones
Easy admin symfony 5 la via rapida pospuesto
Datatables 




test
php.ini 
descomento 
extension= gd
extension= zip

composer require --dev symfony/test-pack
Write test cases in the tests/ folder
  * Use MakerBundle's make:test command as a shortcut!
  * Run the tests with php bin/phpunit

  composer require symfony/panther --dev


    - symfony/panther[v0.8.0, ..., v0.9.0, v1.0.0, ..., v1.1.2, v2.0.0, ..., v2.1.0] require php-webdriver/webdriver ^1.8.2 -> satisfiable by php-webdriver/webdriver[1.8.2, ..., 1.15.0].
    - symfony/panther[v0.7.0, ..., v0.7.1] require php-webdriver/webdriver ^1.8.1 -> satisfiable by php-webdriver/webdriver[1.8.1, ..., 1.15.0].
    - symfony/panther v0.6.1 requires php-webdriver/webdriver ^1.7.1 -> satisfiable by php-webdriver/webdriver[1.7.1, ..., 1.15.0].
    - symfony/panther v0.6.0 requires facebook/webdriver ^1.7.1 -> satisfiable by php-webdriver/webdriver[1.8.0, ..., 1.15.0], facebook/webdriver[1.7.1].
    - symfony/panther[v0.1.0, ..., v0.4.1] require symfony/browser-kit ^4.0 -> found symfony/browser-kit[v4.0.0, ..., v4.4.44] but it conflicts with your root composer.json require (5.4.*).
    - symfony/panther[v0.5.0, ..., v0.5.2] require symfony/browser-kit ^4.3 -> found symfony/browser-kit[v4.3.0, ..., v4.4.44] but it conflicts with your root composer.json require (5.4.*).
    - facebook/webdriver[1.6.0, ..., 1.7.1] require php ^5.6 || ~7.0 -> your php version (8.2.4) does not satisfy that requirement.
    - php-webdriver/webdriver[1.7.1, ..., 1.8.3] require php ^5.6 || ~7.0 -> your php version (8.2.4) does not satisfy that requirement.
    - symfony/panther[v1.1.0, ..., v1.1.1] require symfony/deprecation-contracts ^2.4 -> found symfony/deprecation-contracts[v2.4.0, ..., v2.5.2] but the package is fixed to v3.3.0 (lock file version) by a partial update and that version does not match. Make sure you list it as an argument for the update command.
    - php-webdriver/webdriver[1.9.0, ..., 1.15.0] require ext-zip * -> it is missing from your system. Install or enable PHP's zip extension.
    - Root composer.json requires symfony/panther * -> satisfiable by symfony/panther[v0.1.0, ..., v0.9.0, v1.0.0, ..., v1.1.2, v2.0.0, v2.0.1, v2.1.0].

To enable extensions, verify that they are enabled in your .ini files:
    - C:\xampp\php\php.ini
You can also run `php --ini` in a terminal to see which files are used by PHP in CLI mode.
Alternatively, you can run Composer with `--ignore-platform-req=ext-zip` to temporarily ignore these required extensions.

Use the option --with-all-dependencies (-W) to allow upgrades, downgrades and removals for packages currently locked to specific versions.
You can also try re-running composer require with an explicit version constraint, e.g. 
"composer require symfony/panther:*" to figure out if any version is installable, or "composer require symfony/panther:^2.1"
 if you know which you need.

 instalo porque me lo pide panter 
 composer require php-webdriver/webdriver instalado tras instalar extensiones en php in zip y gd
 composer require symfony/browser-kit   instalado tras instalar extensiones en php in zip y gd
 composer update
composer require symfony/panther --dev
 composer require --dev dbrekelmans/bdi
 vendor/bin/bdi detect drivers
Hacer: php bin/console make:test (Con la opción: PantherTestCase)
hecho test para artist 
php bin/phpunit --verbose
los test me dan fallo pero tambien me ha indicado que puedo hace 
composer recipes:update vendor/package   como no deja composer recipes:install vendor/package --force -v no me deja algunos paquetes no estan instalados

hago un commit antes de hacerlo 
composer require symfony/uid
composer require symfony/dom-crawler
quito vendor y lock y composer install 




